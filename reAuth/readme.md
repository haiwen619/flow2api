# 使用说明

python reAuth/refresh_cookie_before_relogin.py --project-id "你的projectId" --cookie "你的Cookie字符串" --debug

测试当前文件功能 

python reAuth/refresh_cookie_before_relogin.py --project-id "3fd8d2d3-baad-42df-a991-264bc63b9243" --cookie "_ga=GA1.1.225865941.1769585639; __Host-next-auth.csrf-token=8c658d21c0609d843c4fa6a23f3f4ebfb2e41972455b6ebad45ada022db29b18%7C7f81065ca173112ff332d0aa920d8f582979eeef099927b51434226a9ecfe960; __Secure-next-auth.callback-url=https%3A%2F%2Flabs.google%2Ffx; EMAIL=%22tanghaiwen91%40gmail.com%22; _ga_X2GNH8R5NS=GS2.1.s1772244154$o27$g1$t1772246997$j8$l0$h950020891; _ga_5K7X2T4V16=GS2.1.s1772265479$o11$g0$t1772265480$j59$l0$h0; __Secure-next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..591rDT-pTP8meo5d.ZeyX8EJlW-ml11S0W_3_sHmYO3MIt7-OB6nEj0EMlMZGo2Ji6yQY766AsA-s6QTwL3cplK0hM8UipwANlbNAdFokUDFcapNAteGrhNVDj5TwhwxRKid_oS3mjsZVDGlXXZW6eXH7Jpd8zvQqIMTe3GnQMqxNaBgFL-dK4vpq6n0n8VF-ZkC73FoKmufiDqbMmoaPE6EItyl3AG7X7kly8UfCSw0H4qA-C8UYixXWFqCDyv-JsHNg_LJ9C68-kplGlnzCINUgD2wyxRBzoeDcG9mvWENjyGAoy8XyV6GfL0pAL_3bXa4zGIfkeJtMmHYwns8kLuU-RrvRCQdP4tX8JUH0JmMc3O5ZRPCX76dcyeBDbri3-T5Aex0PFMctwJBZl4IB6yTwsDYMYwpzNpuA-nS3RGXJqqidfGluKSfJ9aqv0noN08-i3Nc5uTZAFBF5HBImXwuKmhWCKJxiem2bcDWs7uptknYq5NUPBVma8S9TRsMYmgktdxvY1w6b2oWCPf96FLGvuCF9wk7Y_I1UEM6KoTqc3Dxn_CB75-nKkFYfucfRFoK3kCPJGg8RetbElclEUCHTn6fY_3Ni3YV23RWEEb9VEtRT2TpLux4yGUiDbm7sGX_mBgZaly1LH5nV9dfixzo--x9ye24eTX9BRDzooNat0-sSS0wwMAiZ2jOMuHrMNmPXlofMv2DnTzhhDpChNwf3LGmp7zkvmglqmzXJuJ0_9ktCtCNu4yVEI_sXbBBCbQm9o9IVwsQkN65wHxfAYgZ36aCgtj1q_hOkHCUe57HINxQs3vpmbNKKAO36ppUy2ywsGubnhTreESN3HUI3f5ERwI7Y9g5wUESMxf3YQNbOsYsLI-tebX7fPegW5IUukFyfa2grjUvPdqwYZAzR-PVFQ_G3rmkZr4sSW98q6PWvCNHGwO5G7pgazyvT-hLW1g_L8UIn6iwzYw4ZkBez7uhV-Makh15oBriga5LGC_KWV0T27w.k4JLeXoS6rTLTPJIEblI1Q" 
--local-proxy-port 6987 `
--test-at `
--strict-java-flow  `
--debug


python reAuth/refresh_cookie_before_relogin.py `
  --cookie "" `
  --local-proxy-port 6987 `
  --verify-only `
  --debug



当前刷新顺序

常规 st -> at 刷新
失败则走 reAuth HTTP 6 步刷新 ST（自动读代理配置）
还失败才走原 personal 浏览器刷新 ST
全部失败才禁用 token


待办 ： 不同的ST 转出的AT是一样的，
使用java转的文件更新的ST 和之前的ST是不一样的，但是转出来的AT是一样的，



python reAuth/refresh_cookie_before_relogin.py `
  --project-id "0824bf2f-65be-49cd-a2db-680c6dc40a01" `
  --cookie "__Host-next-auth.csrf-token=3fc09a5d9fb18efb52fcfeb8f17257bd3b700d34a83937bd8d859b221b8829b1%7C992ee95cb018b2127c688bf0bf1f5e23854f3af8014cd15f6ddd5919a8fd8454; _ga=GA1.1.1890682599.1772247297; __Secure-next-auth.callback-url=https%3A%2F%2Flabs.google%2Ffx%2Ftools%2Fflow; email=tanghaiwen91%40gmail.com; EMAIL=%22tanghaiwen91%40gmail.com%22; _ga_X2GNH8R5NS=GS2.1.s1772247296$o1$g1$t1772247315$j41$l0$h2141586956; __Secure-next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..kG24KFZSNSY1ANQy.2NBXHmR7Snj9Oq-m15sJpgF0LFqqnlexypu4fn9hV8PoIJJ8NoFE27ntp2kmCaNkM3-huMjeyXauOV5x2IFYvmGLW-0UprZFjcgdLi_aRO05AV8nnWviCqhaPxmOBZZcwwsMKsWSZxAZuEgl0oS0dsep69xtsSKzvU06mLO_s3KshrwfghwZu0OPjE0Az79UEgNqQMihQUw16EwT_oEKSDdp2_k5kCiv1OMRNrj4KsRxIDjjgGPYimfXxdym9wbawpE6sSdO5D6K-eZioYB_jW-thj26pDuKhUT3UUe1cS8aOdd1Rw0L_OtqUh-Guku6BLUZ8lsZVVPIW7D8R10kT47kZanvgOBAyTdMkPA3HLur9RdpexNTp3Ym5NKtX6tLjMY0qS5xuJREiOcODWi5CiUBKymquTP9-61pn5TUXzhfYaFy17J5me2cT9WIsQPxnRMvBreKhKjK6lMBz_VAVNOIO-mjujZKiFdbmb6pK1YmoqTvsgOfteuBOeOW74tJhHcd2KDRDsd6g_e7sBQITfGByctpDcw2J6ilIobjFicMbulnwUyOI7z6_325xp8wzBZvbb1unyG2CKe1DSCluV0WYYLnIx6AHQ0JEftXtgfpu5xG6UD6_uOBLYpR8gujtfwH46TuT3cw3y7T1qD7yvwkkFD3EoVkdJ4AJO3AaeGdzli3e_kIJ8_3CeCv36P0MJqgEAivyfm60caSi49dLcEb42hC7-amPdYfD77TNz7O5e9nP-8Ne60POUoXJU_vrFAlI5EID3hnZ4_F1oPInGUdds6o0fSy-NYVJ6YaP3N4lCLg8CxSihX7fum4RNq8oQ6lO9P0hFsygf7vULG6O0eIRQ_NOwR7p06fa28N8LgwXqCLsArU3eQUoWY5C5w0RS9Idd3ETD4OHwPGkydtG-51pu2zISe5GJbVFFo7gMYFIlhHeyVQAQhR8N5TPiJG3CPW1HFU2vg7jHnr9HnV4U-OpZE8QBM6gQ.CzCC3RxGlLghtO5jVG4wiA" `
  --local-proxy-port 6987 `
  --test-at `
  --test-browser-with-cookie `
  --browser-url "https://labs.google/fx/tools/flow" `
  --browser-wait-seconds 120 `
  --debug


python reAuth/refresh_cookie_before_relogin.py `
  --project-id "31fbf20f-d3e3-4be3-94ca-4a70ae734eff" `
  --cookie "__Host-next-auth.csrf-token=a569d5cabdfde42507cd9a9585ee5a41a5f2ea12f4197666774c04d3a2f85f07%7C846a2a611a7caa4db172d67804e2bc35c475600d6f50654f9f9e831cc5aba556; _ga=GA1.1.28943854.1772178709; __Secure-next-auth.callback-url=https%3A%2F%2Flabs.google%2Ffx%2Ftools%2Fflow%2Fproject%2F31fbf20f-d3e3-4be3-94ca-4a70ae734eff; email=amparoyepez311%40gmail.com; EMAIL=; _ga_X2GNH8R5NS=GS2.1.s1772178708; __Secure-next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..b-6aFYzRh466I5zA.hx4mknP8xEztuDpCiOZANgauKJ_HJBvC5TA8YiAFFSTfAkqKi-aS8RW2xkldJC-5_hpvSHb4iyD6EHmLcs8o2gcrj8O6-AVgKuN815S2tRXIqO7SZKKG1CMGD5Ub8gIEwFEXx4obUHk1nByi_u8uwHtURV3XckIuVYW4GdhInGxCIe_gCPHgXES7T-BtFyqBF7xprJJ_f_UpWxDrbcG1plXrV5d3xTMqoRkP8ZWk4T6GaRtO1TOJ64fo2hTZyrI2VkXbpYyWclZ1lkex11nVPT83Uach0wEDaHhvogfgToIzy8AJLVlhjWvdhc7Oi959KCp851bx6W4IS8g3wnVYEvbMaI7Y0cptWefyKLUFFRCtHbxlUQyba20J6MEsmyf8xbsv-DP-NBBLVV-gPDagerA3RPonHn_VQ-VYMHNq1HI1XmRHmcgNkCxxmGn5K0bk7QOlf2XnZPklbx8-l8LC3s6_djIDfEADoiJ7PT0m73h434lMwRN7VXBSqvBXPraBzv7bj4DrVKNs8_4QK6jwTdaGaGPkYuF5_P_Oo1WMLBaXNsJNMRNj87OvgcWxxqK2ilU8L0fmeCtt9IXxHfkRsCVALPTmhpclg6911B1zwa4VKv4a5jtVUUf3cxb5RDH6zmaPgdEVb0WXntciBGXqgpjI8a1M-91zBjxpl0sp4oybIDLzZVeRx1n31P7MiIOSdjT9cDyuamXYbYMmsmCRebN1dJvkSiEVFb8-Nw_2mv8eHdbEsvZsJiuZACoJIW80O4qmOOOTKQhgZ6LW19cXASfinhXHeulIT-SiT569WIUdtw6gMYvMdeRl6-GqA2nzZSxrAi_a0gtlVlW9cRC2x_sRpo-w8dRIjCXi-sHx66DGNHL1fuKZiYCTEXZN_Bbpn6MUK4VNF5j1YGBnsW7Nm4Rm9qzbEbPLeTtiVSedTV91dbqBI2nhmzp8Qc1oAZ6EuBadncpdCgN93yTepFUKZwI7z2cYDUnVUUnR_xoMa0yTY4Dt-oJpAruGiYU4onRYJVuPocCFShBNBSCIBikwNeg.rKPN_0ew7NMMqb3SWThnig; __Secure-next-auth.state=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..UiDcLLDulrfmlUEY.2Ln51Nj2exH2bIFh4RM44bTu_fJgreqgQEFK7zvgYgYOQy0kCt9GNrImb_SyezXgTOT5fgeXhtNss5Cv3R9X7UG3ZX-dIOUW2RkvZZqqzoah8ei-IXDoykOmLYUO6UgoMmvzzgwifPURs8EpPeKPMazMXIA6DiANu0pPcHP-5sHVch_QqOg.pmdiKsgP_UaFxWa8IKXzjw; __Secure-next-auth.pkce.code_verifier=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..nMy5niDuJJbvkXql.ArSS24t5OX8FVlbw5DObbyE08CtXxR06Q710p87CiMJNZiy29rVzPunBJVq7RrHe8ztUoOe2TwSkOjWT3rZlgz5_fLMkMmhbN4rGfbyg2LYfdw4dNdi2t6RgdI_fY6d1f6EOF4fT--BdyZCpr8sOde4WRdp2LJqnIbP-x48dV4myO_gui58.Y-D28WjE304QwNKxD0_wGA;" `
  --local-proxy-port 6987 `
  --test-at `
  --test-browser-with-cookie `
  --browser-url "https://labs.google/fx/tools/flow" `
  --browser-wait-seconds 120 `
  --debug
