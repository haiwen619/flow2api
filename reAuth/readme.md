# 使用说明

python reAuth/refresh_cookie_before_relogin.py --project-id "你的projectId" --cookie "你的Cookie字符串" --debug

测试当前文件功能 

python reAuth/refresh_cookie_before_relogin.py --project-id "c4a55e47-8532-433b-afaa-79c7681ae6cb" --cookie "__Host-next-auth.csrf-token=91d51c1909d8aa8454316cf17dd436f1686c70b9d3bbf0dbd63bba63ede80418%7Ceda2b83fe9878c3a33c0c37eee55c35460ff8341983e440d7f287031c56d43e1; _ga=GA1.1.2064023427.1772158394; __Secure-next-auth.callback-url=https%3A%2F%2Flabs.google%2Ffx%2Ftools%2Fflow%2Fproject%2F0824bf2f-65be-49cd-a2db-680c6dc40a01; email=finnegan984121%40aaaad.motiongridsolar.com; EMAIL=; _ga_X2GNH8R5NS=GS2.1.s1772158394$o1$g1$t1772158413$j41$l0$h1296252564; __Secure-next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..qpdE7F_WIsRHs2wV.9kzXQgNupPanHfJKjs2Q008gxF-3a5DQ9S1eSdp9CNqbE1gg7KY16f81cI2Mvfi4q9FOZij76e8tzq9W9zlAIDillz1rfdPwwu2NfZHnFlaEkW6Z2617OSy5ZNqTUL8GQyCwocs92os0DozzCT0xeRhE8y4PwfT4GeGq16OzxuyjvAtvUX2z0a8BQ5nR4OdNdiqljQwNCl14qzH_Vq-SjUUxO9cA6QMPEUeMZ_9Okw6rNIHRKgVU-TEwQCVuBwYHb2zF5_w34ZDA9a08zJILSqCrF2eo99omyPvz9zd_4dHANclJOPpAbDpBIDUDrqBXHICfrdvkuHhXFH9S_m7aR4Rp6DV-6sL_sImZRPMcTJr9ro-NhtW4O0e04TI_dD_Prat8qpmbFR9juP_XP-JcYrN0WEURjJ_cxnSQUzrwIMhqSUONSF8fApLknE_RtbztaJWZcJlfW7_4Y6kGt3ZVKtQQUCjC_vpaXF1TJO8SFLk4OEJvnuUgV1qDvtmxnfYammY5STbpl36FNzqa6UBqbCvja7d8qOUpjohMGOFKi2VQqbfym7gCsj2TcGtLxWTHwaRpEaah2Izf8BXwMhJtPejIGIqi7dL2aju8-20hOlt3sExZhwrHZwnlRzOTwaUGXoctGxNv7t-sD6RP_2aORZNY8RJcWP-X_cW_MDmH40_29EtEQPUbVS7phCDFGP251gg9GRR9A7TLkC8VxmkqDlhtxXMb0Vf0sdbpULs4GyLfTcdcltEHD34wgXtNI864QtPMRbOVs0X6xVL_VEhtGeGovPmFJVc-UXNDti2msi7Y0Szx5bfsXK1KujHXUoFmLQOsCppbH-Bkg1fdWOOiC1AcOrvL9hdSMKw9981PnVsWCSuMgKgZyL7DPG0nRZ4HCdzDyOh9cBB5uxrQddWIOwn72wvEgMQVrvDKHHA_XZFLjm4Rm2Z48k2c7zKqsPCxZwOMTOPJ94xsX8EkggSbqU35lqz5obDbbc3obT2fWWdpu4YRyZekxA.4RlEJBob64Nplk3Nvu9YGw; __Secure-next-auth.state=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..xOkMQa3AygKbfMgt.mRt3Ay0nbvY64Dw8kowoEMeuU2Mi4ZZVOp-_brS9vs0GDaz_MVrHWaIMC5CbgxBdY0e04fvYeokxWlz4jJ6CfEaOzQEfrgbhzMgZXpfQdDFDwrLtQbTYXmXoca6d_KATV8SiRYMl8be6Jb-GriBRIgrtfkvh85SKdpSITUiuafYthM6bQlk.0KY8p6RP5tI1haN2uK-stw; __Secure-next-auth.pkce.code_verifier=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..Yi1upWBMCerb5lSV.N6DeLHsLAIwGNoGTaNwYn6WBVSYdZLI_RiESNrub2zUPR_XVYgnCjLSPxIPKF9Slj85iNBGUjRDF_9j5KS7UnRG4RMCTvXUmsTeK8Iv9F6cDmgjmEaLX-rz11Q5r_LcyH5532ESRnTs7uoGB2DkQ8tB5qolzNiQs8Zsr33Kz8UXFivCuTQM.F1HAfWKsyqdLukZKXF2P8g; __Host-GAPS=1:KnaZqYS4u8y6L-mIICu9C550zzvIEQ:fIhFPRP2QJvQ1PyV; Priority=HIGH" 
--local-proxy-port 6987 `
--test-at `
--strict-java-flow  `
--debug


python reAuth/refresh_cookie_before_relogin.py `
  --cookie "" `
  --local-proxy-port 6987 `
  --verify-only `
  --debug



当前刷新顺序

常规 st -> at 刷新
失败则走 reAuth HTTP 6 步刷新 ST（自动读代理配置）
还失败才走原 personal 浏览器刷新 ST
全部失败才禁用 token


待办 ： 不同的ST 转出的AT是一样的，
使用java转的文件更新的ST 和之前的ST是不一样的，但是转出来的AT是一样的，



python reAuth/refresh_cookie_before_relogin.py `
  --project-id "0824bf2f-65be-49cd-a2db-680c6dc40a01" `
  --cookie "_ga=GA1.1.225865941.1769585639; __Host-next-auth.csrf-token=8c658d21c0609d843c4fa6a23f3f4ebfb2e41972455b6ebad45ada022db29b18%7C7f81065ca173112ff332d0aa920d8f582979eeef099927b51434226a9ecfe960; EMAIL=%22gregory035089%40vvndd.motiongridsolar.com%22; __Secure-next-auth.callback-url=https%3A%2F%2Flabs.google%2Ffx%2Ftools%2Fflow; email=tanghaiwen91%40gmail.com; _ga_5K7X2T4V16=GS2.1.s1772244116$o10$g1$t1772245728$j57$l0$h0; _ga_X2GNH8R5NS=GS2.1.s1772244154$o27$g1$t1772245737$j53$l0$h950020891; __Secure-next-auth.session-token=eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..2psegLStwEQvyTIk.DTfDixZGjZSb6iI3-qle0BnhaMQJzJxE1iFxsTN4OgPDebL0YAMrXY4PEgiKE5puSK35rYUUe0P8_GC46egWjiEPaLdT0sHKVw0VBc6Dfmirgwo4bqkVD6oFzivA1rC4_Shf1M8rUuudo11-uMn4em8WrHhAV6AGpxjoGhxec9ZmqlCXLbNJK0JOjTwOeWWdbpLju3ufOn42FGVyv4SifAqfpgcNYBXVVfoodEFnxZ3QRkPFvg3IN68laa2T3VyBabsu9PNfggTMMr3AtkAuPLjFbInB2ksMYDuDnGCFvDhYiGy92gSXWH4wquMIPIFHdvnzXOAEfcnvgHZPuSDLQzGzXTtLfbx-z-y5NTsQySX2RW9zBQQ8hhA-tD0VvT6dAlHStqJJHKLYhrZGq6JpnAb2AfzCtYg4tpGHYMFV-l_DNwzn-1LwNg_pFfySF-H4EJKXMkHrIml7pW_eCXNWVCQvfqFp2LIcSm2XpLUSYryEtF9C5PWkQS0wrH4ehRLRAFrJOQTFo77fmnrOXclasVWbJetyP0EcYvWFlJGrgykiqG6VWQ8gINfSBowDzqHMYsTMBOMMwJoFOb0gPfa6PEoVY6sF3eFnqDE76EpAd91zYrfMoSXUNHVNBHKoqPu2hj4ctpzZ8k7PLnumdLclhohhdmKPjitaHxtmptZWKm2hAsRlzcy7VI6ArRKDyN-AexudTWC1J_wnH-yx6aZvKaUk3jnbF3qF7s4ZB_q8rUbdOvp-mg8pbYGsn_4D7qhg-HMzAx8E0Gen6OcRVDpT0Jjf2xwy5L5zc4T-NiFZ-zmbFSF0CSZZMIhbUWzUneNX8jVlRz41efanY1y4ptkgtK5Tl6xujarTqH0jmg2itWyriZH-RdzZb0BaBCw395lEnfLsfznEQM-PkBS_mMEWnIB-ulYr_yrG0ztPEFCSdvsfurFku3YVublwhr9DIRKkpxj27sJJjjv1aadcSE__s_cZDfqt22tq1w.KoMY4F-hpdEuOnCpoxShCw" `
  --local-proxy-port 6987 `
  --test-at `
  --test-browser-with-cookie `
  --browser-url "https://labs.google/fx/tools/flow" `
  --browser-wait-seconds 120 `
  --debug

